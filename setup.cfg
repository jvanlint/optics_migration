[tool:pytest]
# pytest configuration:
# https://docs.pytest.org/en/stable/customize.html

# pytest-django configuration:
# https://pytest-django.readthedocs.io/en/latest/
DJANGO_SETTINGS_MODULE = optics.settings
#FAIL_INVALID_TEMPLATE_VARS = true  # stop silent fail.
python_files = tests.py test_*.py *_tests.py
addopts = -p no:warnings --no-migrations
;
;# Timeout for tests, so they can not take longer
;# than this amount of seconds.
;# You should adjust this value to be as low as possible.
;# Configuration:
;# https://pypi.org/project/pytest-timeout/
;timeout = 5
;
;# Strict `@xfail` by default:
;xfail_strict = true
;
;# Directories that are not visited by pytest collector:
norecursedirs = *.egg .eggs dist build docs .tox .git __pycache__ src models
;
;# You will need to measure your tests speed with `-n auto` and without it,
;# so you can see whether it gives you any performance gain, or just gives
;# you an overhead. See `docs/template/development-process.rst`.
;addopts =
;  --strict-markers
;  --strict-config
;  --doctest-modules
;  --fail-on-template-vars
;  #--dup-fixtures
;  # Output:
;  --tb=short
;  # Parallelism:
;  # -n auto
;  # --boxed
;  # Coverage:
;  --cov=server
;  --cov=tests
;  --cov-branch
;  --cov-report=term-missing:skip-covered
;  --cov-report=html
;  --cov-fail-under=100


[coverage:run]
# Coverage configuration:
# https://coverage.readthedocs.io/en/latest/config.html
plugins =
    # Docs: https://github.com/nedbat/django_coverage_plugin
    django_coverage_plugin
