<div id="modal-backdrop" class="modal-backdrop fade show" style="display:block;"></div>
<div id="modal" class="modal fade show" tabindex="-1" style="display:block;">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Mission File Upload</h5>


      </div>
      <div class="modal-body">
        {% if alert_text %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <strong>Error:&nbsp;</strong>{{alert_text}}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        {% endif %}

        <form id='form' hx-encoding='multipart/form-data' hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
          hx-post="{% url 'test_upload' %}">

          <div class="col-sm-12 mt-5">
            <h6>Select mission file to import</h6>
            <div class="input-group mt-3">
              <div class="custom-file">
                <input id="customFile" type="file" accept=".miz" class="custom-file-input" name='file'>
                <label class="custom-file-label" for="customFile">Choose file (.miz)</label>
              </div>
            </div>
          </div>

          <button class="btn btn-primary">
            Upload
          </button>

          <div class="htmx-indicator d-flex justify-content-center">
            <strong>Processing...</strong>
            <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
          </div>
        </form>

      </div>
      <div class="modal-footer">
        <button hx-get="{% url 'test_modal' 1 %}" hx-target="#modals-here" hx-trigger="click"
          class="btn btn-primary">Modal 1</button>
        <button hx-get="{% url 'test_modal' 3 %}" hx-target="#modals-here" hx-trigger="click"
          class="btn btn-primary">Modal 3</button>
        <button type="button" class="btn btn-secondary" onclick="closeModal()">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  bsCustomFileInput.init()

</script>
