{% load static%}
<div>
  <div id='swaped_in_test_partial_1' hx-swap="outerHTML">
    {% if alert_text %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong>Error:&nbsp;</strong>{{alert_text}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endif %}
    <form id='form' hx-encoding='multipart/form-data' hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
      hx-post="{% url 'test_htmx2' %}">

      <div class=" col-sm-12 mt-5">
        <h6>Select mission file to import</h6>
        <div class="input-group mt-3">
          <div class="custom-file">
            <input id="customFile" type="file" accept=".miz" class="custom-file-input" name='file'>
            <label class="custom-file-label" for="customFile">Choose file (.miz)</label>
          </div>
          <button class="btn btn-primary" hx-trigger="click" hx-target="#hx-container">Upload</button>
        </div>
      </div>
      <a href="{{ return_url }}" class="btn btn-warning" role="button">Cancel</a>

      <div class="htmx-indicator d-flex justify-content-center">
        <strong>Processing...</strong>
        <div class="spinner-border ml-auto" role="status" aria-hidden="true"></div>
      </div>
    </form>









    <script src="{% static 'miz_import/js/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'miz_import/js/custom_file_input/bs-custom-file-input.min.js' %}"></script>
    <script>
      htmx.onLoad(function (content) {
        bsCustomFileInput.init()
      })

    </script>
  </div>
</div>
